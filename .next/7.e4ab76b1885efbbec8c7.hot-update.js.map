{"version":3,"file":"7.e4ab76b1885efbbec8c7.hot-update.js","sources":["webpack:///components/helpers.js","webpack:///pages/top-ten.js"],"sourcesContent":["export const dateDisplay = (dateString) => {\n  var d = new Date(dateString);\n  var month = new Array();\n  month[0] = 'January';\n  month[1] = 'February';\n  month[2] = 'March';\n  month[3] = 'April';\n  month[4] = 'May';\n  month[5] = 'June';\n  month[6] = 'July';\n  month[7] = 'August';\n  month[8] = 'September';\n  month[9] = 'October';\n  month[10] = 'November';\n  month[11] = 'December';\n  var monthText = month[d.getMonth()];\n  var year = d.getFullYear();\n  return monthText + ' ' + year;\n};\n\nexport const getCategoryIcon = (category) => {\n  var categoryId = parseInt(category[0]);\n  if (categoryId === 1) {\n    return 'top';\n  }\n  if (categoryId === 2) {\n    return 'hm';\n  }\n  if (categoryId === 3) {\n    return 'fail';\n  }\n  if (categoryId === 4) {\n    return 'placeholder';\n  }\n  else {\n    return 'error';\n  }\n};\n\nexport const getGoogleMapsUrl = (post) => {\n  var url = '';\n  url = 'https://www.google.com/maps/place/' + post.addressstreet + '+' +  post.addresscity + '+' +  post.addressstate;\n\n  return url;\n};\n\nexport const buildImageaArray = (post) => {\n  var images = [];\n\n  if (typeof post !== 'undefined') {\n    if (typeof post.img !== 'undefined') {\n      images.push({\n        'src': '/static/img/' + post.img,\n        'title': post.restaurant\n      });\n    }\n    if (typeof post.imgbonus !== 'undefined') {\n      images.push({\n        'src': '/static/img/' + post.imgbonus,\n        'title': post.restaurant\n      });\n    }\n    if (typeof post.imgexterior !== 'undefined') {\n      images.push({\n        'src': '/static/img/' + post.imgexterior,\n        'title': post.restaurant\n      });\n    }\n  }\n\n  return images;\n};\n\n// do not apply wow class when rendering server side for SEOz\nexport const getWowClass = (window) => {\n  var wowClass = '';\n\n  if(typeof window !== 'undefined') {\n    wowClass = 'wow fadeInUp';\n  }\n\n  return wowClass;\n};\n\n\n\n// WEBPACK FOOTER //\n// components/helpers.js","import React from 'react';\nimport dynamic from 'next/dynamic';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport api from '../api';\nimport withLayout from '../components/withLayout';\nimport { buildImageaArray, getGoogleMapsUrl, getWowClass } from '/components/helpers';\n\nconst Lightbox = dynamic(import('react-image-lightbox'));\n\nclass TopTen extends React.PureComponent {\n  state = {\n    photoIndex: 0,\n    isOpen: false,\n  }\n\n  static async getInitialProps() {\n    const posts = await api.posts().order('asc').orderby('menu_order').perPage(10).category(2).embed();\n    return { posts };\n  }\n\n  componentWillMount() {\n    this.setState({\n      posts: this.props.posts\n    });\n  };  \n\n  componentDidMount() {\n    if(typeof window !== 'undefined') {\n      window.WOW = require('wowjs');\n\n      window.wow = new WOW.WOW({\n        live: true\n      });\n      window.wow.init();\n    }\n  }\n\n  initializeLightbox = (post) => {\n    window.images = [];\n    window.images = buildImageaArray(post);\n    this.setState({ isOpen: true });\n  }\n\n  render() {\n    const { posts, photoIndex, isOpen } = this.state;\n    const title = 'Eat This Beef, bruh - The Top Ten';\n\n    return (\n      <div>\n        <Head>\n          <title>{title}</title>\n          <meta property=\"og:title\" content={title} />\n          <meta property=\"og:image\" content={'/static/img/' + posts.map(post => (post.img))[0]} />\n          <meta name=\"twitter:title\" content={title} />\n          <meta name=\"twitter:image\" content={'/static/img/' + posts.map(post => (post.img))[0]} />\n        </Head>\n        <h1>THE TOP TEN</h1>\n        <h3>The best of the best in Dallas, TX</h3>\n        {isOpen && (\n          <Lightbox\n            mainSrc={window.images[photoIndex].src}\n            nextSrc={window.images[(photoIndex + 1) % window.images.length].src}\n            prevSrc={window.images[(photoIndex + window.images.length - 1) % window.images.length].src}\n            imageTitle={window.images[photoIndex].title}\n            animationOnKeyInput={'true'}\n            onCloseRequest={() => this.setState({ isOpen: false })}\n            onMovePrevRequest={() =>\n              this.setState({\n                photoIndex: (photoIndex + window.images.length - 1) % window.images.length,\n              })\n            }\n            onMoveNextRequest={() =>\n              this.setState({\n                photoIndex: (photoIndex + 1) % window.images.length,\n              })\n            }\n          />\n        )}\n        <section className={'restaurant-list'}>\n          {\n            posts.map(post => (\n              <section key={post.id} className={'restaurant' + getWowClass(this.window)} data-wow-duration=\".5s\" data-wow-offset=\"10\">\n                <Link\n                  href={{\n                    pathname: '/restaurant',\n                    query: {\n                      slug: post.slug,\n                    },\n                  }}\n                  as={`/restaurant/${post.slug}`}\n                >\n                  <a>\n                    <h2 dangerouslySetInnerHTML={{ __html: post.rank + '. ' + post.title.rendered }} />\n                  </a>\n                </Link>\n                <div className={'address'}>\n                  <a href={getGoogleMapsUrl(post)} target=\"_blank\">{post.addressstreet + ', ' + post.addresscity + ', ' + post.addressstate}</a>\n                </div>\n                <button className={'img-thumb'} onClick={() => this.initializeLightbox(post)}>\n                  <img src={'/static/img/' +  post.imgthumb}/>\n                </button>\n                <div className={'copy'}>\n                  <div dangerouslySetInnerHTML={{ __html: post.content.rendered }} />                \n                </div>\n              </section>\n            ))\n          }\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default withLayout(TopTen);\n\n\n\n// WEBPACK FOOTER //\n// pages/top-ten.js"],"mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;;;;;AA2BA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;AArBA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;;;AAQA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AADA;AADA;AAKA;AAAA;AAEA;AADA;AADA;AAZA;AAAA;AAAA;AAAA;AAAA;AAmBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AADA;AAFA;AAMA;AAPA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAtBA;AA8BA;;;;;;;;;;;;;AA9FA;AACA;;AADA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AATA;AACA;AAuGA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}